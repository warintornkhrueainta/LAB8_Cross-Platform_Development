<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab 8.3 - Native APIs Demo</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: white;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .section {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    .button {
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid white;
      color: white;
      padding: 12px 24px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
      transition: all 0.3s ease;
    }
    
    .button:hover {
      background: white;
      color: #4CAF50;
      transform: translateY(-2px);
    }
    
    .result-box {
      background: rgba(0, 0, 0, 0.2);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      font-family: monospace;
      white-space: pre-wrap;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .file-content {
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      max-height: 300px;
      overflow-y: auto;
      font-family: monospace;
    }
    
    textarea {
      width: 100%;
      height: 150px;
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-family: monospace;
      font-size: 14px;
      resize: vertical;
      box-sizing: border-box;
    }
    
    .loading { color: #FFD700; }
    .success { color: #90EE90; }
    .error { color: #FF6B6B; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üñ•Ô∏è Native APIs Demo</h1>
      <p>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Native APIs ‡∏Ç‡∏≠‡∏á Operating System</p>
    </div>

    <!-- File Operations Section -->
    <div class="section">
      <h3>üìÅ File Operations</h3>
      <p>‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏ß‡∏¢ OS dialogs</p>
      
      <button class="button" onclick="openFile()">üìÇ ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå</button>
      <button class="button" onclick="exportAgentData()">üìä Export Agent Data</button>
      <button class="button" onclick="saveCurrentContent()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</button>
      
      <div class="result-box" id="fileResult">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö file operations</div>
      
      <div id="fileContent" class="file-content" style="display: none;"></div>
    </div>

    <!-- Text Editor Section -->
    <div class="section">
      <h3>üìù Text Editor</h3>
      <p>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå</p>
      
      <textarea id="textEditor" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà... ‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ">
# Agent Report
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${new Date().toLocaleDateString('th-TH')}
<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ô index.html ‡∏´‡∏•‡∏±‡∏á File Operations Section -->

<!-- Notifications Section -->
<div class="section">
  <h3>üîî Desktop Notifications</h3>
  <p>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö Operating System</p>
  
  <button class="button" onclick="testBasicNotification()">üîî ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Notification</button>
  <button class="button" onclick="testAgentLogin()">üü¢ Agent Login</button>
  <button class="button" onclick="testCallReceived()">üìû Call Received</button>
  <button class="button" onclick="testUrgentAlert()">üö® Urgent Alert</button>
  
  <div class="result-box" id="notificationResult">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö notifications</div>
</div>
## ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Agents
- Agent ID: AG001
- ‡∏ä‡∏∑‡πà‡∏≠: Alice Johnson  
- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: Available
- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏≤‡∏¢: 15 calls
- ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: 245 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

## ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
- Total Calls: 35
- Avg Wait Time: 45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- Available Agents: 1 ‡∏Ñ‡∏ô
- Busy Agents: 1 ‡∏Ñ‡∏ô
      </textarea>


    </div>
  </div>

  <script>
    console.log('üé® [RENDERER] Native APIs Demo ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß');

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API
    if (window.nativeAPI) {
      console.log('‚úÖ [RENDERER] Native APIs ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
    } else {
      console.error('‚ùå [RENDERER] Native APIs ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    function showResult(elementId, message, type = 'info') {
      const element = document.getElementById(elementId);
      const timestamp = new Date().toLocaleTimeString('th-TH');
      
      element.innerHTML = `[${timestamp}] ${message}`;
      element.className = `result-box ${type}`;
    }

    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ô <script> ‡∏Ç‡∏≠‡∏á index.html

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏õ tray
function testHideToTray() {
  try {
    console.log('üëÅÔ∏è [RENDERER] ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏õ tray...');
    showResult('trayResult', 'üëÅÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏õ system tray...', 'loading');
    
    setTimeout(() => { // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 1 sec.
      // ‡∏£‡∏±‡∏ö event ‡∏ã‡πà‡∏≠‡∏ô system tray
      window.nativeAPI.hideToTray();
    }, 1000);
    
  } catch (error) {
    console.error('‚ùå [RENDERER] Error:', error);
    showResult('trayResult', `‚ùå Error: ${error.message}`, 'error');
  }
}

// ‡πÅ‡∏™‡∏î‡∏á tray
function testShowApp() {
  console.log('üëÅÔ∏è [RENDERER] ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≤‡∏Å tray...');
  
    setTimeout(() => { // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 1 sec.
      // ‡∏£‡∏±‡∏ö event ‡πÅ‡∏™‡∏î‡∏á system tray
      window.nativeAPI.showApp();
    }, 1000);
}

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö notification ‡∏à‡∏≤‡∏Å tray action
function testTrayNotification() {
  try {
    console.log('üîî [RENDERER] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö notification ‡∏à‡∏≤‡∏Å tray...');
    showResult('trayResult', 
      '‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö System Tray ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n\n' +
      'üñ±Ô∏è ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡∏ó‡∏µ‡πà icon ‡πÉ‡∏ô taskbar/menubar\n' +
      'üìã ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏ï‡πà‡∏≤‡∏á‡πÜ\n' +
      'üîÑ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å tray menu',
      'success'
    );
    
  } catch (error) {
    console.error('‚ùå [RENDERER] Error:', error);
    showResult('trayResult', `‚ùå Error: ${error.message}`, 'error');
  }
}

// ‡∏£‡∏±‡∏ö event ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å tray
window.nativeAPI.onStatusChangedFromTray((data) => {
  console.log('üîÑ [RENDERER] ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö status change ‡∏à‡∏≤‡∏Å tray:', data);
  
  showResult('trayResult',
    `üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å System Tray!\n\n` +
    `üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà: ${data.newStatus}\n` +
    `‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤: ${new Date(data.timestamp).toLocaleString('th-TH')}\n\n` +
    `‚úÖ ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ communication ‡∏à‡∏≤‡∏Å Main ‚Üí Renderer`,
    'success'
  );
});

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå
    async function openFile() {
      try {
        console.log('üìÇ [RENDERER] ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå...');
        showResult('fileResult', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î file dialog...', 'loading');
        
        const result = await window.nativeAPI.openFile();
        
        if (result.success) {
          console.log('‚úÖ [RENDERER] ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', result.fileName);
          
          showResult('fileResult', 
            `‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n\n` +
            `üìÑ ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå: ${result.fileName}\n` +
            `üìÅ ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${result.filePath}\n` +
            `üìä ‡∏Ç‡∏ô‡∏≤‡∏î: ${result.size} characters`, 
            'success'
          );
          
          // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå
          const contentDiv = document.getElementById('fileContent');
          contentDiv.style.display = 'block';
          contentDiv.innerHTML = `<strong>üìÑ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå ${result.fileName}:</strong>\n\n${result.content}`;
          
          // ‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏ô text editor
          document.getElementById('textEditor').value = result.content;
          
        } else if (result.cancelled) {
          showResult('fileResult', '‚èπÔ∏è ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå', 'info');
        } else {
          throw new Error(result.error);
        }
        
      } catch (error) {
        console.error('‚ùå [RENDERER] Error:', error);
        showResult('fileResult', `‚ùå Error: ${error.message}`, 'error');
      }
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Agent
    async function exportAgentData() {
      try {
        console.log('üìä [RENDERER] ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Agent...');
        showResult('fileResult', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Agent...', 'loading');
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CSV
        const agentData = [
          'Agent ID,Name,Status,Extension,Department,Total Calls,Avg Call Time',
          'AG001,Alice Johnson,Available,1001,Sales,15,245',
          'AG002,Bob Smith,Busy,1002,Support,8,312', 
          'AG003,Carol Lee,Break,1003,Sales,12,198'
        ].join('\n');
        
        const fileName = `agent-report-${new Date().toISOString().split('T')[0]}.csv`;
        
        const result = await window.nativeAPI.saveFile(agentData, fileName);
        
        if (result.success) {
          console.log('‚úÖ [RENDERER] ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', result.fileName);
          
          showResult('fileResult',
            `üìä ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Agent ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n\n` +
            `üìÑ ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå: ${result.fileName}\n` +
            `üìÅ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ${result.filePath}\n` +
            `üìà ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: 3 agents ‡πÉ‡∏ô CSV format`,
            'success'
          );
          
        } else if (result.cancelled) {
          showResult('fileResult', '‚èπÔ∏è ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å', 'info');
        } else {
          throw new Error(result.error);
        }
        
      } catch (error) {
        console.error('‚ùå [RENDERER] Error:', error);
        showResult('fileResult', `‚ùå Error: ${error.message}`, 'error');
      }
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
    async function saveCurrentContent() {
      const content = document.getElementById('textEditor').value;
      
      if (!content.trim()) {
        showResult('fileResult', '‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å', 'error');
        return;
      }
      
      try {
        console.log('üíæ [RENDERER] ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤...');
        showResult('fileResult', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå...', 'loading');
        
        const fileName = `my-document-${Date.now()}.txt`;
        const result = await window.nativeAPI.saveFile(content, fileName);
        
        if (result.success) {
          console.log('‚úÖ [RENDERER] ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', result.fileName);
          
          showResult('fileResult',
            `üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n\n` +
            `üìÑ ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå: ${result.fileName}\n` +
            `üìÅ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ${result.filePath}\n` +
            `üìä ‡∏Ç‡∏ô‡∏≤‡∏î: ${content.length} characters`,
            'success'
          );
          
        } else if (result.cancelled) {
          showResult('fileResult', '‚èπÔ∏è ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å', 'info');
        } else {
          throw new Error(result.error);
        }
        
      } catch (error) {
        console.error('‚ùå [RENDERER] Error:', error);
        showResult('fileResult', `‚ùå Error: ${error.message}`, 'error');
      }
    }
// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ô <script> ‡∏Ç‡∏≠‡∏á index.html

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö notification ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
async function testBasicNotification() {
  try {
    console.log('üîî [RENDERER] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö notification...');
    showResult('notificationResult', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á notification...', 'loading');
    
    const result = await window.nativeAPI.showNotification(
      'Agent Wallboard',
      '‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ desktop notification ‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üéâ'
    );
    
    if (result.success) {
      showResult('notificationResult', '‚úÖ ‡πÅ‡∏™‡∏î‡∏á notification ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\n\n‡∏î‡∏π notification ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏à‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì', 'success');
    } else {
      throw new Error(result.error);
    }

  } catch (error) {
    console.error('‚ùå [RENDERER] Error:', error);
    showResult('notificationResult', `‚ùå Error: ${error.message}`, 'error');
  }
}

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Agent Login notification
async function testAgentLogin() {
  try {
    console.log('üü¢ [RENDERER] Agent login notification...');
    showResult('notificationResult', '‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Agent ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...', 'loading');
    
    const result = await window.nativeAPI.notifyAgentEvent(
      'Alice Johnson',
      'login',
      { time: new Date().toLocaleTimeString('th-TH') }
    );
    
    if (result.success) {
      showResult('notificationResult', 'üü¢ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Agent Login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\n\nAgent Alice Johnson ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß', 'success');
    } else {
      throw new Error(result.error);
    }
    
  } catch (error) {
    console.error('‚ùå [RENDERER] Error:', error);
    showResult('notificationResult', `‚ùå Error: ${error.message}`, 'error');
  }
}

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Call Received notification
async function testCallReceived() {
  try {
    console.log('üìû [RENDERER] Call received notification...');
    showResult('notificationResult', '‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤...', 'loading');
    
    const result = await window.nativeAPI.notifyAgentEvent(
      'Bob Smith',
      'call_received',
      { 
        callerNumber: '02-123-4567',
        queue: 'Support Queue'
      }
    );
    
    if (result.success) {
      showResult('notificationResult', 'üìû ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\n\nAgent Bob Smith ‡∏°‡∏µ‡∏™‡∏≤‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà', 'success');
    }
    
  } catch (error) {
    console.error('‚ùå [RENDERER] Error:', error);
    showResult('notificationResult', `‚ùå Error: ${error.message}`, 'error');
  }
}

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Urgent Alert
async function testUrgentAlert() {
  try {
    console.log('üö® [RENDERER] Urgent alert...');
    showResult('notificationResult', '‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡πà‡∏ß‡∏ô...', 'loading');
    
    const result = await window.nativeAPI.showNotification(
      'üö® ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡πà‡∏ß‡∏ô!',
      '‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡πà‡∏ß‡∏ô!',
      true // urgent = true
    );
    
    if (result.success) {
      showResult('notificationResult', 'üö® ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡πà‡∏ß‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\n\n‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ notification ‡πÅ‡∏ö‡∏ö urgent', 'success');
    }
    
  } catch (error) {
    console.error('‚ùå [RENDERER] Error:', error);
    showResult('notificationResult', `‚ùå Error: ${error.message}`, 'error');
  }
}
    // Event listeners
    window.addEventListener('DOMContentLoaded', () => {
      console.log('üìÑ [RENDERER] DOM ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß');
      showResult('fileResult', '‚úÖ Native APIs Demo ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô\n\n‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö file operations', 'success');
    });
  </script>
</body>
</html>